---
import MainLayout from '../layouts/MainLayout.astro';
import Navbar from '../components/Navbar.astro';
import Sidebar from '../components/Sidebar.astro';
import Player from '../components/Player.svelte';
import ResultsGrid from '../components/result/ResultsGrid.svelte';
import ResponsiveContainer from '@layouts/ResponsiveContainer.svelte';
import Playlist from '../components/PlaylistItems.svelte';
// Get search query from URL parameters
const url = new URL(Astro.request.url);
const searchQuery = url.searchParams.get('q') || '';
---

<MainLayout title="Buscar - YouTube Music">
  <Navbar slot="header" />
  <Sidebar slot="sidebar" />
  
  <!-- Main Content -->
  <div class="p-4 md:p-6 pb-24">
      <ResultsGrid
          id="resultsGrid"
          client:only="svelte"
          on:videoSelected={(e:any) => console.log('Video:', e.detail)}
        />
          <ResponsiveContainer>
    
    <!-- Contenido para la columna izquierda -->
    <div slot="left-content">
      <!-- Aquí iría tu imagen -->
      <img 
        src="https://i.imgur.com/u5zDm8h.png" 
        alt="Portada del álbum Kocchi no Kento" 
        class="w-full h-auto object-cover rounded-md aspect-square"
      >
    </div>

    <!-- Contenido para la columna derecha -->
    <div slot="right-content">
      <!-- Aquí iría tu lista de canciones o cualquier otro elemento -->
      <div class="flex flex-col space-y-4">
        <Playlist client:only="svelte"/>


      </div>
    </div>

  </ResponsiveContainer>
  </div>
  
  <!-- Player at the bottom -->
  <Player client:only="svelte" />

</MainLayout>