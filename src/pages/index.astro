---
import MainLayout from '@layouts/MainLayout.astro';
import Navbar from '@components/Navbar.astro';
import Sidebar from '@components/Sidebar.astro';
import Player from '@components/Player.svelte';
import MainPlayer from '@components/MainPlayer.astro';
import ResultsGrid from '@components/result/ResultsGrid.svelte';
import StatCard from '@components/Cards/StatCard.astro';
---

<MainLayout title="YouTube Music">
  <Navbar slot="header" />
  <Sidebar slot="sidebar" />
  
  <!-- Main Content -->
  <div class="p-4 md:p-6 pb-24">
    <div class="max-w-7xl mx-auto">
      <!-- Welcome Section -->
      <div class="mb-8">
        <h1 class="text-2xl md:text-3xl font-bold mb-2">Bienvenido de nuevo</h1>
        <p class="text-gray-400">Tu música, siempre contigo</p>
      </div>
      <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-8"
          >
            <StatCard
              title="Canciones que te gustan"
              subtitle="15 canciones"
              colorClass="bg-blue-500"
              icon="favorite"
            />

            <StatCard
              title="Descargas"
              subtitle="8 canciones"
              colorClass="bg-green-500"
              icon="download"
            />

            <StatCard
              title="Listas de reproducción"
              subtitle="3 listas"
              colorClass="bg-purple-500"
              icon="playlist_play"
            />

            <StatCard
              title="Mi SuperMix"
              subtitle="Basado en tu actividad"
              colorClass="bg-gradient-to-br from-orange-500 to-red-500"
              icon="star"
            />
          </div>
      <!-- Quick Actions -->
      <div class="sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-8">
          <ResultsGrid
            id="resultsGrid"
            client:only="svelte"
            on:videoSelected={(e:any) => console.log('Video:', e.detail)}
          />    
      </div>
      
      <MainPlayer />
    </div>
  </div>
  
  <!-- Player at the bottom -->
  <Player client:only="svelte" />