---
import QRscan from '@components/SettingsPanel/QRscan.astro';
import ModalAstro from "@components/commons/ModalAstro.astro";
---
<ModalAstro name="QRModal">
    <QRscan />
</ModalAstro>
<script>
    import { emitter } from "@utils/Emitter";
    import { QRCallbackname } from "./commons/const_emits";
    const ImportAPIURLID = "ImportAPIURL"
    const ImportAPIURL = document.getElementById(ImportAPIURLID);
    /*     emitter.on(QRCallbackname, (url) => {
            console.log(QRCallbackname, url);
        }); */

    document.addEventListener('DOMContentLoaded', () => {
        if (ImportAPIURL) {
            ImportAPIURL.addEventListener("click", () => {
                emitter.emit("open:QRModal");
                emitter.emit("open:QRscan",QRCallbackname);
            });
        }
        console.log('DOMContentLoaded');
    });
</script>